# High-Value Order Alert Workflow

## Use cases:

- **Real-time Sales Notifications:** Notify a sales team in Slack when a high-value order is placed, providing immediate insights into the customer's purchase history.
- **Proactive Customer Support:** Alert customer support teams to high-value orders, allowing them to proactively reach out to new customers with personalized support and onboarding.
- **Fraud Detection Enhancement:** Flag potentially fraudulent orders by cross-referencing the order value with the customer's historical purchasing behavior, aiding in risk assessment.

## How it works:

1.  **Shopify Order Trigger:** The workflow starts when a new order is created in the Shopify store.
2.  **Convert total_price to Number:** the original value is converted from string to number
3.  **High-Value Order Check:** The workflow verifies if the order's total price is greater than $200.
4.  **Fetch Customer Order History:** If the order value exceeds $200, the workflow retrieves the customer's order history from Shopify using the customer ID.
5.  **Convert order History to String:** the original value is converted from array to string
6.  **Summarize Order History with AI:** The customer's order history is passed to a Large language model agent, which generates a summary of their purchasing behavior.
7.  **Send Slack Alert:** A message is sent to a designated Slack channel, including the customer's name, order total, and a summary of their order history generated by the AI model.
8.  **Ignore low value:** if the order is below 200 usd the workflow will stop here

## Services:

-   Shopify
-   Slack
-   OpenAI

## Hashtags:

#n8n #Shopify #Slack #Automation #OrderManagement
