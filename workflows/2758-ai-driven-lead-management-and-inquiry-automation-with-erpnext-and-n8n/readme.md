# Customer Lead AI Agent Workflow

## Use cases:

- **Automated Lead Qualification and Routing:** Automatically analyze new leads from a website, determine their relevance to the company's offerings, and route them to the appropriate sales or support team member via email.
- **Streamlined Lead Response:** Generate personalized email drafts for new leads, summarizing their inquiry and providing relevant contact information, enabling faster and more efficient follow-up.
- **Improved Customer Experience:** Ensure that all valid leads receive prompt attention and that inquiries are directed to the right person, leading to better customer satisfaction.

## How it works:

1. **Webhook Trigger (Webhook):** The workflow starts when a new lead is created in ERPNext, triggering a webhook that sends the lead data to n8n.
2. **Filter Website Leads (Source Website and Status Open):** Filters the leads based on source is website and status is Open.
3. **Fetch Lead Details (Lead Body, Get Lead Data from ERPNext):** Extracts the Lead Name and its relevant data (especially notes) from ERPNext using the lead ID received from the webhook.
4.  **Check if Lead have notes (Inquiry has Notes):** Check if the Lead has Inquiry Notes if yes then it proceeds.
5. **AI-Powered Lead Analysis (Customer Lead AI Agent):** Uses an AI Agent to analyze the lead notes, determine the relevant contact person, and generate an email notification. This agent is configured with a system prompt that defines its role and output requirements. It uses data from Google Sheets (Abbriviations, Company Contact Database), Google Docs (Company Profile, Company Policies) and AI Chat Model (OpenAI Chat Model).
6. **Check if the Lead is Valid (Inquiry is Valid?):** Checks if the agent found the inquiry to be valid.
7. **Prepare Email Content (Fields for Outlook, Email Body Text Generated by AI, Email Body for Outlook):** Extract email address(s), subject, and email body from the AI agent's output. The Email body is then converted to HTML for better readability.
8. **Send Email Notification (Microsoft Outlook):** Sends an email to the appropriate contact person with the inquiry details and action request.  The email includes a link to the lead in ERPNext.

## Services:

- **ERPNext:** An open-source integrated business application (used as a trigger and data source).
- **Google Sheets:** Used for Contact Database and Abbriviations List
- **Google Docs:** Used for Company Profile and Company Policies
- **OpenAI:** Used as an AI Chat Model to analyse leads.
- **Microsoft Outlook:** Used to send email notifications.

## Hashtags:

#n8n #automation #leadgeneration #ai #erpnext
